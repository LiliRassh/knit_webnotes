{% extends 'layout/base.html' %}

{% block title %}{{ title }}{% endblock title %}


{% block content %}
<div class="contanier">
    <div class="card" id="card_info">
        <div class="card-header">
            <h4 class="title">{{ title }}:</h4>
        </div>
        <div class="card-body">
            <form id="row" method="post" action="/calculator/rows">
                {% csrf_token %}
                <div class="col">
                    <h5 class="card-title">Введите плотность вязания:</h5>
                    <div class="form-group row" style="margin: 10px 0px">
                        <div class="col-auto">
                            <input type="number" class="form-control" id="num1">
                        </div>
                        <label for="num1" class="col-sm-4 col-form-label">см</label>
                    </div>
                    <div class="form-group row" style="margin: 10px 0px">
                        <div class="col-auto">
                            <input type="number" class="form-control" id="row1">
                        </div>
                        <label for="row1" class="col-sm-4 col-form-label">рядов</label>
                    </div>
                    <div class="form-group row" style="margin: 10px 0px">
                        <h5>В 1см будет
                            <span id="res1" class="badge badge-info"> xx </span>
                            ряда
                        </h5>
                    </div>
                    <hr>
                    <h5 class="card-title">Введите высоту изделия:</h5>
                    <div class="form-group row" style="margin: 10px 0px">
                        <div class="col-auto">
                            <input type="number" class="form-control" id="num2">
                        </div>
                        <label for="num2" class="col-sm-4 col-form-label">см</label>
                    </div>
                    <div class="from-group row" style="margin: 10px 0px">
                        <h5>Нужно провязать
                            <span id="res2" class="badge badge-info"> xx </span> рядов
                        </h5>
                    </div>
                    <p style="margin-top: 20px">
                        <input id="calc" type="button" value="Расчитать" class="btn btn-info">
                        <input id="cancel" type="reset" value="Очистить" class="btn btn-secondary">
                    </p>
                </div>
            </form>
        </div>
        <div class="card-footer">
            <a href="/calculator" class="btn btn-link" role="button">Вернуться к калькулятору</a>
        </div>
    </div>
</div>
<script>
        $(document).ready(()=>{
            $('#row1').blur(()=>{
                let num = $('#num1').val();
                let row = $('#row1').val();
                let res = row/num;
                $('#res1').html(res);
            });
            $('#calc').click(()=>{
                    let num2 = $('#num2').val();
                    let res1 = $('#res1').text();
                    let res2 = num2*res1;
                    $('#res2').html(res2);
                });
            $('#cancel').click(()=>{
                    $('#res1').html(" xx ");
                });
        });
    </script>
{% endblock content %}